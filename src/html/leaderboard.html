<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel='stylesheet' type='text/css' media='screen' href='../css/main.css'>
    <title>Profile Page</title>
    <style>
        #nav {
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 10px; 
            background-color: #333;
        }
        #nav a {
            color: #ede0e0; 
            text-decoration: none;
        }
        #logo img {
            height: 24px; 
            width: 24px; 
            margin-right: 8px;
        }
        #nav__links {
            display: flex;
        }
        .nav__link {
            color: #ede0e0; 
            margin-right: 15px; 
            text-decoration: none;
        }
    </style>
</head>
<body>
    <header id="nav">
        <div class="nav--list">
            <a href="/room.html">
                <h3 id="logo" style="display: flex; align-items: center; margin: 0;">
                    <img src="../assets/images/cutetomato.png" alt="Site Logo">
                    <span>Pomodojo</span>
                </h3>
            </a>
        </div>
        <div id="nav__links">
            <a class="nav__link" href="/marketplace.html" style="text-decoration: none;">Marketplace</a>
            <a class="nav__link" href="" style="color: rgb(230, 228, 228); border-bottom: 2px solid #FF8989; text-decoration: none;">Leaderboard</a>
        </div>        
    </header>
    <!-- The rest of the leaderboard page content goes here -->
    <ol id="leaderboard-list"></ol>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
          const leaderboardList = document.getElementById('leaderboard-list');
    
          try {
            const response = await fetch('/get-leaderboard');
            const data = await response.json();

            //sorting the data
            data.sort((a, b) => b.score - a.score);
    
            // Process data and update the leaderboardList
            data.forEach(entry => {
              const listItem = document.createElement('li');
              listItem.textContent = `${entry.email} - ${entry.score}`;
              leaderboardList.appendChild(listItem);
            });
          } catch (err) {
            console.error('Error fetching leaderboard data', err);
          }
        });
      </script>
</body>
</html>
